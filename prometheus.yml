global:
  scrape_interval: 10s

scrape_configs:
  - job_name: "AIML-PROD"
    static_configs:
      - targets: ["172.236.187.68:9100"]

  - job_name: "AIML-Dashboard-chatapp-Stage"
    static_configs:
      - targets: ["172.236.164.19:9100"]

  - job_name: "Website-Dashboard-chatapp-Prod"
    static_configs:
      - targets: ["172.236.189.82:9100"]

  - job_name: "blackbox_http"
    metrics_path: /probe
    params:
      module: [http_2xx]   # Expect HTTP 200 OK
    static_configs:
      - targets:
        # === PROD ENV URLs ===
        - https://engageos.ai/
        - https://dashboard.engageos.ai/
        - https://chatapp.engageos.ai/
        - http://172.236.187.68:8081/
        - https://0faa992fe0ecdfb6b9eeeafdfe6f788cdf8549de-3000.dstack-pha-prod7.phala.network

        # === NON-PROD / STAGE ENV URLs ===
        - https://stagedbchatapp.engageos.ai/
        - https://stagedb.engageos.ai/
        - https://6700717036c0fdcaa5649069c3654ab6983175ec-3000.dstack-pha-prod7.phala.network
        - http://172.236.164.19:8081/
    relabel_configs:
      - source_labels: [__address__]
        target_label: __param_target
      - source_labels: [__param_target]
        target_label: instance
      - target_label: __address__
        replacement: blackbox_exporter:9115

  - job_name: "cadvisor"
    static_configs:
      - targets:
        - "172.236.187.68:8080"     # PROD VM
        - "172.236.164.19:8080"     # STAGE VM
        - "172.236.189.82:8080"     # PROD VM 2 (if needed)

  - job_name: "docker-engine"
  static_configs:
    - targets:
        - "172.236.187.68:9323"
        - "172.236.164.19:9323"
        - "172.236.189.82:9323"
